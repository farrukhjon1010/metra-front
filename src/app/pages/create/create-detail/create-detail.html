<div class="create-page">
  <app-create-header
    [card]="card"
    (back)="goBack()">
  </app-create-header>

  <div class="create-detail-wrapper">
    <app-create-idle
      [card]="card"
      [initialPrompt]="prompt"
      [initialImageUrl]="initialImageUrl"
      (create)="onCreate($event)"
      [style.display]="createState === 'idle' ? 'block' : 'none'">
    </app-create-idle>

    @if (createState === 'loading'){
    <app-loading
      [texts]="['Генерируем…']">
    </app-loading>
    }

    @if (createState === 'result'){
    <app-create-result
      [resultImageUrl]="resultImageUrl"
      [prompt]="prompt"
      (edit)="onEditResult()"
      (createAnother)="onCreateAnother()">
    </app-create-result>
    }
  </div>

  <app-generation-history
    [history]="generationHistory"
    (repeat)="repeatGeneration($event)">
  </app-generation-history>
</div>
