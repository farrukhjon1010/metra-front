<div class="create-idle">
  <div class="text-ai-generation-idle">
    <label>Введите запрос</label>
    <img src="assets/icons/awesome.svg" alt="">
    <textarea
      #promptTextarea
      [(ngModel)]="prompt"
      placeholder="Опишите ваше изображение"
      rows="4">
      </textarea>
  </div>

  <div class="photo-upload-idle">
    <label class="form-label-idle">Загрузите фото</label>

    <div class="upload-row-quality-idle">
      <div class="upload-area-small-idle" (click)="triggerFileInput('generate', $event)">
        <input #photoGenerate type="file" accept="image/jpeg,image/jpg,image/png,image/heic,image/webp"
               (change)="onPhotoSelected($event, 'generate')" style="display: none;">

        <div class="upload-create-quality-idle">
          <span class="upload-text-small-idle">Загрузить</span>
          <span class="upload-formats-idle">
                JPEG, JPG, PNG, HEIC, WEBP
          </span>
        </div>

        <img src="assets/icons/upload.svg" alt="Icon">
      </div>
    </div>

    @if (photos.generate) {
      <div class="photo-quality">
        <img class="with-photo-idle" [src]="photos.generate" alt="Photo">

        <button class="delete-photo-generation-idle" (click)="removePhoto('generate', $event)">
          <img src="assets/icons/delete.svg" alt="">
        </button>
      </div>
    }
  </div>

  <div class="btn-quality">
    <app-button
      type="primary"
      icon="assets/icons/add.svg"
      (click)="createImage()"
      [disabled]="!photos.generate && !prompt">
      Создать изображение
    </app-button>
  </div>
</div>

<app-generation-history
  [history]="generationHistory"
  (repeat)="onRepeat($event)">
</app-generation-history>
